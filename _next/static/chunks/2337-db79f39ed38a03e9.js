"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2337],{62337:(e,t,r)=>{r.d(t,{GO:()=>s,KP:()=>l,cn:()=>c,lk:()=>u,nr:()=>d,pv:()=>i});var n=r(83296),a=r(22853),o=r(81939);function c(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,n.$)(t))}let s=async e=>{let t=await fetch(e,{credentials:"include",headers:{"Content-Type":"application/json"}});if(!t.ok){if(307===t.status||t.redirected)throw new o.P7("unauthorized:auth","Session expired or not authenticated");try{let{code:e,cause:r}=await t.json();throw new o.P7(e,r)}catch(e){throw new o.P7("bad_request:api","HTTP ".concat(t.status,": ").concat(t.statusText))}}return t.json()};function u(){return"undefined"!=typeof crypto&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{let t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}function i(e,t){try{let r=new Date().toISOString().split("T")[0],n="chat-".concat(t,"-").concat(r,".json"),a=JSON.stringify(e,null,2),o=new Blob([a],{type:"application/json"}),c=URL.createObjectURL(o),s=document.createElement("a");s.href=c,s.download=n,document.body.appendChild(s),s.click(),document.body.removeChild(s),URL.revokeObjectURL(c)}catch(e){throw console.error("Failed to download messages:",e),Error("Download failed")}}function l(e){let t=new Date().getTimezoneOffset()/60,r=e.split(" ");if(5!==r.length)return e;let n=r[0],a=r[1];if(n.includes(",")||a.includes(",")){n.includes(",")&&n.split(",");let e=Array.from(new Set((a.includes(",")?a.split(","):[a]).map(e=>{let r=Number.parseInt(e,10)-t;return r<0?r+=24:r>=24&&(r-=24),r.toString()}))).sort((e,t)=>Number.parseInt(e,10)-Number.parseInt(t,10)),o=[...r];return o[0]=n,o[1]=e.join(","),o.join(" ")}if(!/^\d+$/.test(n)||!/^\d+$/.test(a))return e;let o=Number.parseInt(n,10),c=60*Number.parseInt(a,10)+o-60*t;c<0?c+=1440:c>=1440&&(c-=1440);let s=Math.floor(c/60),u=c%60,i=[...r];return i[0]=u.toString(),i[1]=s.toString(),i.join(" ")}function d(e){if(!e||"string"!=typeof e)return"Invalid schedule";let t=e.trim().split(/\s+/);if(5!==t.length)return e;let[r,n,a,o,c]=t,s=e=>{let t=Number.parseInt(e,10);return 0===t?"12 AM":12===t?"12 PM":t<12?"".concat(t," AM"):"".concat(t-12," PM")},u=(e,t)=>{let r=Number.parseInt(e,10),n=Number.parseInt(t,10),a=0===n?"":":".concat(n.toString().padStart(2,"0"));return 0===r?"12".concat(a," AM"):12===r?"12".concat(a," PM"):r<12?"".concat(r).concat(a," AM"):"".concat(r-12).concat(a," PM")},i=e=>["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][Number.parseInt(e,10)]||e,l=e=>{let t=Number.parseInt(e,10);if(t>=11&&t<=13)return"".concat(t,"th");switch(t%10){case 1:return"".concat(t,"st");case 2:return"".concat(t,"nd");case 3:return"".concat(t,"rd");default:return"".concat(t,"th")}},d=(e,t)=>{if(0===e.length)return"";if(1===e.length)return t?t(e[0]):e[0];if(2===e.length)return"".concat(t?t(e[0]):e[0]," and ").concat(t?t(e[1]):e[1]);let r=t?e.map(t):e;return"".concat(r.slice(0,-1).join(", "),", and ").concat(r[r.length-1])};try{let t=r.includes(",")?r.split(","):[r],h=n.includes(",")?n.split(","):[n],f=a.includes(",")?a.split(","):[a],p=c.includes(",")?c.split(","):[c];if("*"===r&&"*"===n&&"*"===a&&"*"===o&&"*"===c)return"Every minute";if(r.startsWith("*/")&&"*"===n&&"*"===a&&"*"===o&&"*"===c){let e=r.slice(2);if("1"===e)return"Every minute";return"Every ".concat(e," minutes")}if("0"===r&&"*"===n&&"*"===a&&"*"===o&&"*"===c)return"Every hour";if("0"===r&&n.startsWith("*/")&&"*"===a&&"*"===o&&"*"===c){let e=n.slice(2);if("1"===e)return"Every hour";return"Every ".concat(e," hours")}if("*"!==n&&"*"!==r&&"*"===a&&"*"===o&&"*"===c){if(1===h.length&&1===t.length)return"Daily at ".concat(u(h[0],t[0]));let e=[];for(let r of h)for(let n of t)e.push(u(r,n));let r=Array.from(new Set(e)).sort((e,t)=>{let r=e.replace(/[^\d]/g,""),n=t.replace(/[^\d]/g,"");return r.localeCompare(n)});if(r.length<=4)return"Daily at ".concat(d(r));return"Daily at ".concat(r.length," different times")}if("*"!==n&&"*"!==r&&"*"===a&&"*"===o&&"*"!==c){if("1-5"===c){if(1===h.length&&1===t.length)return"Weekdays at ".concat(u(h[0],t[0]));let e=[];for(let r of h)for(let n of t)e.push(u(r,n));let r=Array.from(new Set(e)).sort((e,t)=>{let r=e.replace(/[^\d]/g,""),n=t.replace(/[^\d]/g,"");return r.localeCompare(n)});return"Weekdays at ".concat(d(r))}if(1===p.length&&!p[0].includes("-")){if(1===h.length&&1===t.length)return"".concat(i(p[0])," at ").concat(u(h[0],t[0]));let e=[];for(let r of h)for(let n of t)e.push(u(r,n));let r=Array.from(new Set(e)).sort((e,t)=>{let r=e.replace(/[^\d]/g,""),n=t.replace(/[^\d]/g,"");return r.localeCompare(n)});return"".concat(i(p[0])," at ").concat(d(r))}if(p.length>1){let e=d(p,i);if(1===h.length&&1===t.length)return"".concat(e," at ").concat(u(h[0],t[0]));let r=[];for(let e of h)for(let n of t)r.push(u(e,n));let n=Array.from(new Set(r)).sort((e,t)=>{let r=e.replace(/[^\d]/g,""),n=t.replace(/[^\d]/g,"");return r.localeCompare(n)});return"".concat(e," at ").concat(d(n))}}if("*"!==n&&"*"!==r&&"*"!==a&&"*"===o&&"*"===c){if(1===f.length){if(1===h.length&&1===t.length)return"Monthly on ".concat(l(f[0])," at ").concat(u(h[0],t[0]));let e=[];for(let r of h)for(let n of t)e.push(u(r,n));let r=Array.from(new Set(e)).sort((e,t)=>{let r=e.replace(/[^\d]/g,""),n=t.replace(/[^\d]/g,"");return r.localeCompare(n)});return"Monthly on ".concat(l(f[0])," at ").concat(d(r))}let e=d(f,l);if(1===h.length&&1===t.length)return"Monthly on ".concat(e," at ").concat(u(h[0],t[0]));let r=[];for(let e of h)for(let n of t)r.push(u(e,n));let n=Array.from(new Set(r)).sort((e,t)=>{let r=e.replace(/[^\d]/g,""),n=t.replace(/[^\d]/g,"");return r.localeCompare(n)});return"Monthly on ".concat(e," at ").concat(d(n))}if(n.includes("-")&&"*"===a&&"*"===o){let[e,t]=n.split("-");if("1-5"===c)return"Business hours (".concat(s(e)," - ").concat(s(t),") on weekdays");return"Hourly from ".concat(s(e)," to ").concat(s(t))}if("*"!==n&&"*"!==r&&"*"!==a&&"*"!==o&&"*"===c)return"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][Number.parseInt(o,10)-1]||o," ").concat(l(a)," at ").concat(u(n,r));if("0 0 * * *"===e)return"Daily at midnight";if("0 12 * * *"===e)return"Daily at noon";if("0 0 1 * *"===e)return"Monthly on 1st at midnight";if("0 0 * * 0"===e)return"Weekly on Sunday at midnight";if("0 0 * * 1"===e)return"Weekly on Monday at midnight";if("*"!==n&&"*"!==r){if(1===h.length&&1===t.length)return"At ".concat(u(h[0],t[0]));return"Multiple times per day"}return e}catch(t){return e}}},81939:(e,t,r)=>{r.d(t,{P7:()=>a});let n={database:"log",chat:"response",auth:"response",stream:"response",api:"response",history:"response",vote:"response",document:"response",suggestions:"response",projects:"response"};class a extends Error{toResponse(){let e="".concat(this.type,":").concat(this.surface),t=n[this.surface],{message:r,cause:a,statusCode:o}=this;return"log"===t?(console.error({code:e,message:r,cause:a}),Response.json({code:"",message:"Something went wrong. Please try again later."},{status:o})):Response.json({code:e,message:r,cause:a},{status:o})}constructor(e,t){super();let[r,n]=e.split(":");this.type=r,this.cause=t,this.surface=n,this.message=function(e){if(e.includes("database"))return"An error occurred while executing a database query.";switch(e){case"bad_request:api":return"The request couldn't be processed. Please check your input and try again.";case"unauthorized:auth":return"You need to sign in before continuing.";case"forbidden:auth":return"Your account does not have access to this feature.";case"rate_limit:chat":return"You have exceeded your maximum number of messages for the day. Please try again later.";case"not_found:chat":return"The requested chat was not found. Please check the chat ID and try again.";case"forbidden:chat":return"This chat belongs to another user. Please check the chat ID and try again.";case"unauthorized:chat":return"You need to sign in to view this chat. Please sign in and try again.";case"offline:chat":return"We're having trouble sending your message. Please check your internet connection and try again.";case"not_found:document":return"The requested document was not found. Please check the document ID and try again.";case"forbidden:document":return"This document belongs to another user. Please check the document ID and try again.";case"unauthorized:document":return"You need to sign in to view this document. Please sign in and try again.";case"bad_request:document":return"The request to create or update the document was invalid. Please check your input and try again.";case"not_found:projects":return"The requested project was not found. Please check the project ID and try again.";case"forbidden:projects":return"This project belongs to another user. Please check the project ID and try again.";case"unauthorized:projects":return"You need to sign in to view this project. Please sign in and try again.";case"bad_request:projects":return"The request to create or update the project was invalid. Please check your input and try again.";default:return"Something went wrong. Please try again later."}}(e),this.statusCode=function(e){switch(e){case"bad_request":return 400;case"unauthorized":return 401;case"forbidden":return 403;case"not_found":return 404;case"rate_limit":return 429;case"offline":return 503;default:return 500}}(this.type)}}}}]);